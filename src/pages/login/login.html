<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <ion-title>登录</ion-title>
  </ion-navbar>
</ion-header>


<ion-content class="outer-content" fullscreen='true'>
  <div padding-top padding-left padding-right>
    <ion-segment [(ngModel)]="login" (ionChange)="segmentChanged($event)">
      <ion-segment-button value="basic">
        账号密码登录
      </ion-segment-button>
      <ion-segment-button value="mobile">
        手机号快捷登录
      </ion-segment-button>
    </ion-segment>
  </div>
  <div [ngSwitch]="login">

    <div *ngSwitchCase="'basic'">
      <form [formGroup]="baseLoginForm" (ngSubmit)="doLogin($event)">
        <ion-card>
          <ion-item style="border-bottom:1px solid #dfdfdf;">
            <ion-label>账户</ion-label>
            <ion-input formControlName="petname" type="text" placeholder="您的用户名"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>密码</ion-label>
            <ion-input formControlName="password" type="password" placeholder="您的密码"></ion-input>
          </ion-item>
        </ion-card>
        <div padding-left padding-right>
          <button type="submit" ion-button block [disabled]="!baseLoginForm.valid">登录</button>
          <button clear float-left ion-button small type="button" (click)="openRegister()">10秒免费注册</button>
          <button type="button" clear float-right ion-button small (click)="openForgetPassword()">忘记密码</button>
        </div>
      </form>
    </div>
    <div *ngSwitchCase="'mobile'">
      <form [formGroup]="mobileLoginForm" (ngSubmit)="doLogin($event)">
        <ion-card>
          <button (click)="openCountry()" ion-item style="border-bottom:1px solid #dfdfdf;">
            <ion-label>国家地区</ion-label>
            <ion-input type="text" text-right formControlName="country" [(ngModel)]="country" disabled></ion-input>
          </button>
          <ion-item style="border-bottom:1px solid #dfdfdf;">
            <ion-label>手机号</ion-label>
            <ion-input formControlName="mobile" type="text" placeholder="请输入手机号"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>校验码</ion-label>
            <ion-input formControlName="Ver_code" type="text" placeholder="请输入校验码"></ion-input>
            <button item-end ion-button outline type="button" [disabled]="isVering" (click)="getVerCode()" style="min-width:67px;">{{verButton}}</button>
          </ion-item>
        </ion-card>
        <div padding-left padding-right>
          <button type="submit" ion-button block [disabled]="!mobileLoginForm.valid">登录</button>
          <button clear float-left ion-button small type="button" (click)="openRegister()">10秒免费注册</button>
        </div>
      </form>
    </div>

  </div>
  <div text-center style="bottom:10px;position:absolute;width:100%;">
    <span>合作网站账号登录</span>
    <div style="display:flex;     justify-content: space-around;">
      <button ion-fab mini> <ion-icon name="add"></ion-icon></button>
      <button ion-fab mini> <ion-icon name="add"></ion-icon></button>
      <button ion-fab mini> <ion-icon name="add"></ion-icon></button>
      <button ion-fab mini> <ion-icon name="add"></ion-icon></button>
    </div>
  </div>
</ion-content>